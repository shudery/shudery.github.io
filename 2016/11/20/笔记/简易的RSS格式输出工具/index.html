<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    
    <title>
       简易的RSS格式输出工具 -  Daguo&#39;s blog
    </title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <link rel="stylesheet" href="/css/style.css"> 
    <link rel="icon" href="/images/logo.jpg" />
    
  </head>
  <body>
    <div id="container">
      
      <div id="main-right"><div id="post">
  
  <header class="article-header">
    <h1>
      简易的RSS格式输出工具
    </h1>
  </header>
  
  <div class="post-meta">
    <time
      class="post-data"
      datetime="2016-11-19T16:00:00.000Z"
      itemprop="datePublished"
    >
      2016-11-20
    </time>
    <!-- 
        <ul class="post-category-list"><li class="post-category-list-item"><a class="post-category-list-link" href="/categories/笔记/">笔记</a><span class="post-category-list-count">17</span></li></ul>
         -->
     <ul class="post-tag-list"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/Node-js/">Node.js</a><span class="post-tag-list-count">3</span></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/工具/">工具</a><span class="post-tag-list-count">5</span></li></ul> 
  </div>
  
  <div class="post-entry">
    <p>RSS 即简易信息聚合，当一个网站发布一个 RSS 文件后，这个 RSS-Feed 中包含的信息就能直接被其他站点调用，而且由于这些数据都是标准的 XML 格式，所以也能在其他的终端和服务中使用，是一种描述和同步网站内容的格式。</p>
<p>由于我习惯用 mac 触摸手势的操作，以及不喜欢在浏览器里点击位于不同收藏夹里的标签，用 RSS 阅读器这种内容聚合方式，极大提升了我阅读文章，获取资源的效率，但是现在许多我喜欢的站点不开放 RSS 格式的输出源，或者已经停止维护老旧的 RSS 地址了，因此我将这些站点先进行爬取，提取相应内容，然后结合标准的 RSSXML 模板将其输出，使其能够被 RSS 阅读器正常的订阅。</p>
<p>下面我就介绍一下这个工具：<a href="https://github.com/shudery/RSS-feed-spider">github 地址</a></p>
<h2 id="RSS-feed-spider"><a href="#RSS-feed-spider" class="headerlink" title="RSS-feed-spider"></a>RSS-feed-spider</h2><h4 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h4><p>可以自己制作各大网站，内容频道的文章 RSS 格式输出源，通过爬虫工具抓取内容，输出 RSS 阅读器能够识别的 XML 格式，部署在 PASS 平台可以供阅读器订阅。目前由于很多站点二次爬取模板还没开发，故详情内容要跳转到原站，这对手势操作以及原本就想看原站的人没有大多影响，当然了，这意味着没法离线阅读内容，或者说事先缓存文章（只有标题）</p>
<h4 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h4><p>利用 site 目录下存好的各站点基本信息，根据页面结构修改选择器，利用爬虫爬取页面，抓取相关信息填入 RSS-XML 模板中，将结果的 XML 文件返回到客户端，服务端使用 Node.js 和 web 应用快速搭建框架 express，爬虫用 superagent，pass 平台使用 heroku(国外不太稳定)</p>
<h4 id="查询参数"><a href="#查询参数" class="headerlink" title="查询参数"></a>查询参数</h4><p>每个 RSS 订阅源的格式为：<a href="https://daguo-rss.herokuapp.com/?site={}">https://daguo-rss.herokuapp.com/?site={}</a><br>可以在订阅 url 后面添加查询参数，如?site=jianshu&amp;num=20&amp;desc=true</p>
<ul>
<li>site：站点名字</li>
<li>num：抓取文章数量，默认 10，没有翻页逻辑，最多主页全部文章</li>
<li>desc：是否抓取描述，需要二次爬取，不稳定，默认不开</li>
</ul>
<h4 id="扩展方法"><a href="#扩展方法" class="headerlink" title="扩展方法"></a>扩展方法</h4><p>直接在项目 site 目录下生成相应的站点爬取脚本，脚本名字即对应的查询参数里 site={}需要填写的字符串。单次爬取的模板都一样，只需要配置相应的 RSS 基本信息，修改 getItems 函数中相应字段的选择器，这里用 cheerio 获取 DOM 节点。</p>
<h4 id="完成站点"><a href="#完成站点" class="headerlink" title="完成站点"></a>完成站点</h4><ul>
<li><a href="https://daguo-rss.herokuapp.com/?site=jianshu">简书热门频道</a></li>
<li><a href="https://daguo-rss.herokuapp.com/?site=guoke">果壳</a></li>
<li><a href="https://daguo-rss.herokuapp.com/?site=juejin">掘金前端</a></li>
<li><a href="https://daguo-rss.herokuapp.com/?site=ted">TED</a></li>
<li><a href="https://daguo-rss.herokuapp.com/?site=zaoduke">前端早读课</a></li>
<li><a href="https://daguo-rss.herokuapp.com/?site=hacker">Hacker News</a></li>
<li><del>电子科技大学 UESTC 新闻</del></li>
<li><del>下厨房流行菜谱</del></li>
<li><del>卢松松好文分享</del></li>
<li><del>微信自媒体</del></li>
<li><del>开发者头条</del></li>
</ul>

  </div>
</div>
</div>
    </div>
    <div id="footer">
      <a
        target="_blank"
        style="color: blue;"
        href="http://www.beian.miit.gov.cn"
        >粤ICP备18128256号</a
      >
    </div>
    
  </body>
</html>
<!-- 加载主题脚本文件 -->
<script src="/scripts/utone.js"></script>

<script type="text/javascript">
  window.onload = function() {
    scroll_fixed.init();
    // siteSearch.init()
  };
</script>
